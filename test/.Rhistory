plot(model1, which=1) #residuals vs fitted
plot(model1, which=5) #leverage
nrows(mtcars)
nrow(mtcars)
plot(model1, which=1) #residuals vs fitted
?scatterplot.matrix
scatterplotMatrix(~ disp + hp + wt, data=mtcars)
plot(model1)
plot(model1, which=3) #scale-Location
plot(model1) #scale-Location
plot(model1, which=2) #normal QQ plot
shapiro.test(model1$residuals)
plot(model1) #normal QQ plot
plot(model1, which=5) #residuals vs leverage
help(mtcars)
ls(mtcars)
(model1 = lm(mpg ~ disp + hp + wt + drat, data=mtcars))
scatterplotMatrix(~ disp + hp + wt + drat, data=mtcars)
vif(model1)
vif(model1) > 4
coeftest(model, vcov=vcovHC)
coeftest(model1, vcov=vcovHC)
(model2 = lm(mpg ~ disp + hp + wt + drat, data=mtcars))
(model2 = lm(log(mpg) ~ disp + hp + wt + drat, data=mtcars))
knitr::opts_chunk$set(echo = TRUE)
library(plyr)
load("Week11.Rdata")
ls(Data)
nrow(Data)
(Definitions)
length(Data$Country.Name)
length(Data$Country.Code)
summary(Data$AG.LND.FRST.ZS)
hist(Data$AG.LND.FRST.ZS,
main="Histogram of Forest Area % of Land Area",
xlab="Forest Area % of Land Area",
breaks=20)
summary(Data$MS.MIL.XPND.GD.ZS)
hist(Data$MS.MIL.XPND.GD.ZS,
main="Histogram Military expenditure (% of GDP)",
xlab="Military expenditure (% of GDP)",
breaks=10)
summary(Data$MS.MIL.XPND.ZS)
hist(Data$MS.MIL.XPND.ZS,
main="Histogram of Military expenditure (% of central government expenditure)",
xlab="Military expenditure (% of central government expenditure)",
breaks=50)
summary(Data$NY.GDP.MKTP.CD)
hist(Data$NY.GDP.MKTP.CD,
main="Histogram of GDP (current US$)",
xlab="GDP (current US$)",
breaks=100)
summary(Data$NY.GDP.PCAP.CD)
hist(Data$NY.GDP.PCAP.CD,
main="Histogram of GDP per capita (current US$)",
xlab="GDP per capita (current US$)",
breaks=50)
summary(Data$NY.GDP.PETR.RT.ZS)
hist(Data$NY.GDP.PETR.RT.ZS,
main="Histogram of Oil rents (% of GDP)",
xlab="Oil rents (% of GDP)",
breaks=50)
summary(Data$MS.MIL.XPRT.KD)
hist(Data$MS.MIL.XPRT.KD,
main="Histogram of Arms exports (SIPRI trend indicator values)",
xlab="Arms exports (SIPRI trend indicator values)",
breaks=50)
summary(Data$TX.VAL.AGRI.ZS.UN)
hist(Data$TX.VAL.AGRI.ZS.UN,
main="Histogram of Agricultural raw materials exports (% of merchandise exports)",
xlab="Agricultural raw materials exports (% of merchandise exports)",
breaks=20)
summary(Data$MS.MIL.MPRT.KD)
hist(Data$MS.MIL.MPRT.KD,
main="Histogram of Arms imports (SIPRI trend indicator values)",
xlab="Arms imports (SIPRI trend indicator values)",
breaks=50)
summary(Data$NE.IMP.GNFS.CD)
hist(Data$NE.IMP.GNFS.CD,
main="Histogram of Imports of goods and services (current US$)",
xlab="Imports of goods and services (current US$)",
breaks=20)
summary(Data$NE.EXP.GNFS.CD)
hist(Data$NE.EXP.GNFS.CD,
main="Histogram of Exports of goods and services (current US$)",
xlab="Exports of goods and services (current US$)",
breaks=20)
apply(!is.na(Data[,-(1:2)] ) , MARGIN= 2, mean )
plot(Data$NE.IMP.GNFS.CD, Data$NE.EXP.GNFS.CD,
main="Scatterplot of Goods and Services
Import & Exports",
xlab="Imports (current US$)",
ylab="Exports (current US$)")
Data = rename(Data, c("AG.LND.FRST.ZS"="forest"))
ls(Data)
plot(log(Data[!is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD),]$NY.GDP.PCAP.CD),
log(Data[!is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD),]$NE.EXP.GNFS.CD),
main="Scatterplot of GDP Per Capita and GnS Exports",
xlab="Log of GDP (Current USD)",
ylab="Log of GnS Export (Current USD)")
(model1 = lm(forest ~ log(NY.GDP.PCAP.CD) + log(NE.EXP.GNFS.CD), data=Data))
plot(model1, which=1)
plot(model1, which=5)
(model2 = lm(forest ~ log(NY.GDP.PCAP.CD) + log(NE.EXP.GNFS.CD) + log(TX.VAL.AGRI.ZS.UN), data=Data))
plot(model2, which = 1)
plot(model2, which = 5)
(modelagg = lm(log(TX.VAL.AGRI.ZS.UN) ~ log(NY.GDP.PCAP.CD) + log(NE.EXP.GNFS.CD), data=Data))
#Cov(Data$forest, )
summary(model1)$r.squared
summary(model2)$r.squared
AIC(model1)
AIC(model2)
median(Data$NY.GDP.PCAP.CD, na.rm=T)
median(Data$NE.EXP.GNFS.CD, na.rm=T)
median(Data$TX.VAL.AGRI.ZS.UN, na.rm=T)
27.577 + 4.322 * log(5785.481) + -1.443 * log(28229564417) + 3.608 * log(1.608037)
modelagg$residuals
Cov(Data$forest, modelagg$residuals) / Var(modelagg$residuals)
cov(Data$forest, modelagg$residuals) / var(modelagg$residuals)
?cov
var(modelagg$residuals)
cov(Data$forest, modelagg$residuals, na.rm=T)
Data$forest, modelagg$residuals, use="complete.obs")
cov(Data$forest, modelagg$residuals, use="complete.obs")
length(Data$forest)
length(modelagg$residuals)
Data[!is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]$forest
length(Data[!is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]$forest)
cov(Data[!is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]$forest, modelagg$residuals) / var(modelagg$residuals)
#Data[!is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]$forest
cov(Data[!is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]$forest, modelagg$residuals)
cov(Data$forest, modelagg$residuals)
?lm
summary(TX.VAL.AGRI.ZS.UN)
summary(Data$TX.VAL.AGRI.ZS.UN)
summary(Data$NY.GDP.PCAP.CD)
summary(Data$NE.EXP.GNFS.CD)
cov(Data$forest, modelagg$residuals)
Data[!is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]$forest
cov(Data[!is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]$forest, modelagg$residuals) / var(modelagg$residuals)
?cov
cov(Data$forest, modelagg$residuals, use="complete.obs")
summary(modelagg$residuals)
DataMAgg = Data[!is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]
(modelagg = lm(log(TX.VAL.AGRI.ZS.UN) ~ log(NY.GDP.PCAP.CD) + log(NE.EXP.GNFS.CD), data=DataMAgg))
cov(DataMAgg$forest, modelagg$residuals)
summary(DataMAgg$forest)
DataMAgg = Data[!is.na(Data$forest) & !is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]
(modelagg = lm(log(TX.VAL.AGRI.ZS.UN) ~ log(NY.GDP.PCAP.CD) + log(NE.EXP.GNFS.CD), data=DataMAgg))
DataMAgg = Data[!is.na(Data$forest) & !is.na(Data$TX.VAL.AGRI.ZS.UN) & !is.na(Data$NY.GDP.PCAP.CD) & !is.na(Data$NE.EXP.GNFS.CD), ]
(modelagg = lm(log(TX.VAL.AGRI.ZS.UN) ~ log(NY.GDP.PCAP.CD) + log(NE.EXP.GNFS.CD), data=DataMAgg))
cov(DataMAgg$forest, modelagg$residuals)
var(modelagg$residuals)
cov(DataMAgg$forest, modelagg$residuals) / var(modelagg$residuals)
View(Definitions)
View(Definitions)
library(data.table)
install.packages("data.table")
library(data.table)
q1.d3.6 <- data.table( read.csv("./data/Clingingsmith.2009.csv") )
# head(q1.d3.6)
# summary(q1.d3.6)
# str(q1.d3.6)
# sanity check on ate from the data
# q1.poc <- q1.d3.6[success==0,mean(views)]
# q1.pot <- q1.d3.6[success==1,mean(views)]
# q1.ate <- q1.pot - q1.poc
q1.m1 <- q1.d3.6[,lm(views ~ success)]
# ate is a view improvement of roughly 0.475
q1.ate <- q1.m1$coefficients[2]
# conducting 1 simulated random assignment under the sharp null hypothesis (e.g. matters not if person won visa, their view would not have changed)
# so we flip a fair coin for each person in population, 1 = won visa (treatment), 0 = did not win visa (control)
# ... and we don't change the views, because we are assuming that assignment to win or not win a visa would not have changed it at all
# set.seed(87542)
# q1.d3.6 <- q1.d3.6[, success.q1.a := replicate(nrow(q1.d3.6), rbinom(1,1,0.5))]
# q1.m2 <- q1.d3.6[,lm(views ~ success.q1.a)]
# q1.ate.q1.a <- q1.m2$coefficients[2]
# to conduct 10,000 simulated random assignments under the sharp null hypothesis, just need to create a simulate study function and call it 10,000 times
# then get a distribution of ATEs
set.seed(87542)
q1.sim.study <- function() {
q1.d3.6 <- q1.d3.6[, success.q1.a := replicate(nrow(q1.d3.6), rbinom(1,1,0.5))]
q1.m2 <- q1.d3.6[,lm(views ~ success.q1.a)]
q1.ate.q1.a <- q1.m2$coefficients[2]
return(q1.ate.q1.a)
}
q1.sim.results <- replicate(10000, q1.sim.study())
hist(q1.sim.results, xlab="simulated ATEs", main=paste("Frequencies of simulated ATEs, vs actual estimated ATE: ",round(q1.ate,3)))
abline(v=q1.ate,col="green")
data.table(q1.sim.results)[,sim.ate.as.large.as.actual.ate:=(q1.sim.results >= q1.ate)][,.N,by=sim.ate.as.large.as.actual.ate]
# # find the t statistic, given our distribution of simulated ATEs, vs the actual estimated ATE
# q1.t <- (mean(q1.sim.results)-q1.ate) / ( sd(q1.sim.results)/sqrt(length(q1.sim.results)) )
# # find the one-tailed p-value, the chances that our t statistic is less than the estimated ATE
# pt(-abs(q1.t),df=length(q1.sim.results)-1)
# find the one-tailed p-value
# pt(q=mean(q1.sim.results), n=length(q1.sim.results), df=length(q1.sim.results)-1, lower.tail=TRUE)
mean(q1.sim.results > q1.ate)
data.table(q1.sim.results)[,sim.ate.abs.as.large.as.actual.ate:=(abs(q1.sim.results) >= abs(q1.ate))][,.N,by=sim.ate.abs.as.large.as.actual.ate]
# # find the two-tailed p-value
# 2 * pt(q=mean(q1.sim.results), n=length(q1.sim.results), df=length(q1.sim.results)-1, lower.tail=TRUE)
mean(abs(q1.sim.results) > abs(q1.ate))
# or
mean(q1.sim.results > q1.ate) * 2
library(foreign)
library(data.table)
q2.d3.8 <- data.table(read.dta("./data/Titiunik.2010.dta"))
# head(q2.d3.8)
# summary(q2.d3.8)
# str(q2.d3.8)
# hist(q2.d3.8$term2year)
# hist(q2.d3.8$bills_introduced)
# hist(q2.d3.8$texas0_arkansas1)
# q2.d3.8[texas0_arkansas1==0,plot(bills_introduced ~ term2year,main="Texas")]
# q2.d3.8[texas0_arkansas1==1,plot(bills_introduced ~ term2year,main="Arkansas")]
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[,lm(bills_introduced ~ term2year + texas0_arkansas1)]
(q2.m1)
q2.ate.2y.texas <- q2.m1$coefficients[2]
q2.ate.2y.arkansas <- q2.m1$coefficients[2] + q2.m1$coefficients[3]
head(q2.d3.8)
q2.d3.8[,mean(bills_introduced),by=c("term2year","texas0_arkansas1")]
q2.d3.8[,mu=mean(bills_introduced),by=c("term2year","texas0_arkansas1")]
q2.d3.8[,mu=mean(bills_introduced),by=c("term2year","texas0_arkansas1")]
q2.d3.8[,mu:=mean(bills_introduced),by=c("term2year","texas0_arkansas1")]
q2.d3.8
q2.d3.8 <- data.table(read.dta("./data/Titiunik.2010.dta"))
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "binky"
)
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
# use basic methods to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[,lm(bills_introduced ~ term2year + texas0_arkansas1)]
(q2.m1)
q2.ate.2y.texas <- q2.m1$coefficients[2]
q2.ate.2y.arkansas <- q2.m1$coefficients[2] + q2.m1$coefficients[3]
76.87500 - 60.13333
30.70588 - 20.61111
q2.d3.8[texas0_arkansas1==0 & texas0_arkansas1==0,mean(bills_introduced)]
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.d3.8[texas0_arkansas1==0 & texas0_arkansas1==0,mean(bills_introduced)]
q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)]
q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.ate.2y.texas.basic <- q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
q2.ate.2y.texas.basic
q2.ate.2y.arkansas.basic <- q2.d3.8[texas0_arkansas1==1 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==1 & term2year==0,mean(bills_introduced)]
q2.ate.2y.arkansas.basic
# use basic methods to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.ate.2y.texas.basic <- q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
q2.ate.2y.arkansas.basic <- q2.d3.8[texas0_arkansas1==1 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==1 & term2year==0,mean(bills_introduced)]
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[,lm(bills_introduced ~ term2year + texas0_arkansas1)]
(q2.m1)
q2.ate.2y.texas <- q2.m1$coefficients[2]
q2.ate.2y.arkansas <- q2.m1$coefficients[2] + q2.m1$coefficients[3]
library(foreign)
library(data.table)
q2.d3.8 <- data.table(read.dta("./data/Titiunik.2010.dta"))
# head(q2.d3.8)
# summary(q2.d3.8)
# str(q2.d3.8)
# hist(q2.d3.8$term2year)
# hist(q2.d3.8$bills_introduced)
# hist(q2.d3.8$texas0_arkansas1)
q2.d3.8[texas0_arkansas1==0,plot(bills_introduced ~ term2year,main="Texas")]
q2.d3.8[texas0_arkansas1==1,plot(bills_introduced ~ term2year,main="Arkansas")]
# use basic methods to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.ate.2y.texas.basic <- q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
q2.ate.2y.arkansas.basic <- q2.d3.8[texas0_arkansas1==1 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==1 & term2year==0,mean(bills_introduced)]
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[,lm(bills_introduced ~ term2year*texas0_arkansas1)]
(q2.m1)
q2.ate.2y.texas <- q2.m1$coefficients[2]
q2.ate.2y.arkansas <- q2.m1$coefficients[2] + q2.m1$coefficients[3]
q2.ate.2y.texas.basic
q2.ate.2y.arkansas.basic
library(foreign)
library(data.table)
q2.d3.8 <- data.table(read.dta("./data/Titiunik.2010.dta"))
# head(q2.d3.8)
# summary(q2.d3.8)
# str(q2.d3.8)
# hist(q2.d3.8$term2year)
# hist(q2.d3.8$bills_introduced)
# hist(q2.d3.8$texas0_arkansas1)
q2.d3.8[texas0_arkansas1==0,plot(bills_introduced ~ term2year,main="Texas")]
q2.d3.8[texas0_arkansas1==1,plot(bills_introduced ~ term2year,main="Arkansas")]
q2.d3.8[,interaction.plot(term2year,texas0_arkansas1,bills_introduced)]
library(foreign)
library(data.table)
q2.d3.8 <- data.table(read.dta("./data/Titiunik.2010.dta"))
# head(q2.d3.8)
# summary(q2.d3.8)
# str(q2.d3.8)
# hist(q2.d3.8$term2year)
# hist(q2.d3.8$bills_introduced)
# hist(q2.d3.8$texas0_arkansas1)
# q2.d3.8[texas0_arkansas1==0,plot(bills_introduced ~ term2year,main="Texas")]
# q2.d3.8[texas0_arkansas1==1,plot(bills_introduced ~ term2year,main="Arkansas")]
q2.d3.8[,interaction.plot(term2year,texas0_arkansas1,bills_introduced)]
# use basic methods to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.ate.2y.texas.basic <- q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
# -16.74167
q2.ate.2y.arkansas.basic <- q2.d3.8[texas0_arkansas1==1 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==1 & term2year==0,mean(bills_introduced)]
# -10.09477
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[,lm(bills_introduced ~ term2year*texas0_arkansas1)]
(q2.m1)
q2.ate.2y.texas <- q2.m1$coefficients[2]
q2.ate.2y.arkansas <- q2.m1$coefficients[2] + q2.m1$coefficients[3]
# use basic methods to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.ate.2y.texas.basic <- q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
# -16.74167
q2.ate.2y.arkansas.basic <- q2.d3.8[texas0_arkansas1==1 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==1 & term2year==0,mean(bills_introduced)]
# -10.09477
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[texas0_arkansas1==0,lm(bills_introduced ~ term2year)]
(q2.m1)
q2.ate.2y.texas <- q2.m1$coefficients[2]
q2.ate.2y.arkansas <- q2.m1$coefficients[2] + q2.m1$coefficients[3]
# use basic methods to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.ate.2y.texas.basic <- q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
# -16.74167
q2.ate.2y.arkansas.basic <- q2.d3.8[texas0_arkansas1==1 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==1 & term2year==0,mean(bills_introduced)]
# -10.09477
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[texas0_arkansas1==0,lm(bills_introduced ~ term2year)]
(q2.m1)
q2.m2 <- q2.d3.8[texas0_arkansas1==1,lm(bills_introduced ~ term2year)]
(q2.m2)
q2.ate.2y.texas <- q2.m1$coefficients[2]
q2.ate.2y.arkansas <- q2.m1$coefficients[2] + q2.m1$coefficients[3]
# use basic methods to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.ate.2y.texas.basic <- q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
# -16.74167
q2.ate.2y.arkansas.basic <- q2.d3.8[texas0_arkansas1==1 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==1 & term2year==0,mean(bills_introduced)]
# -10.09477
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[texas0_arkansas1==0,lm(bills_introduced ~ term2year)]
(q2.m1)
q2.m2 <- q2.d3.8[texas0_arkansas1==1,lm(bills_introduced ~ term2year)]
(q2.m2)
q2.m3 <- q2.d3.8[,lm(bills_introduced ~ term2year + texas0_arkansas1)]
(q2.m3)
q2.ate.2y.texas <- q2.m1$coefficients[2]
q2.ate.2y.arkansas <- q2.m1$coefficients[2] + q2.m1$coefficients[3]
q2.m1$coefficients[2]
q2.m2$coefficients[2]
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[texas0_arkansas1==0,lm(bills_introduced ~ term2year)]
(q2.m1)
q2.m2 <- q2.d3.8[texas0_arkansas1==1,lm(bills_introduced ~ term2year)]
(q2.m2)
q2.ate.2y.texas.ols <- q2.m1$coefficients[2]
q2.ate.2y.arkansas.ols <- q2.m2$coefficients[2]
q2.ate.2y.texas.ols
q2.ate.2y.arkansas.ols
q2.m3 <- q2.d3.8[,lm(bills_introduced ~ term2year + texas0_arkansas1)]
(q2.m3)
75.17+ -13.22 + -42.86
q2.m3 <- q2.d3.8[,lm(bills_introduced ~ term2year + texas0_arkansas1 + term2year*texas0_arkansas1)]
(q2.m3)
76.875 + -16.742 + -46.169 + 6.647
q2.m3$coefficients[2]
q2.m3
-16.742 + 6.647
q2.m3$coefficients[4]
q2.ate.2y.texas.ols2 <- q2.m3$coefficients[2] # -16.74167
q2.ate.2y.arkansas.ols2 <- q2.m3$coefficients[2] + q2.m3$coefficients[4] # -10.09477
q2.ate.2y.texas.ols2
q2.ate.2y.arkansas.ols2
# use basic methods to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
dcast(
q2.d3.8[,list(mu=mean(bills_introduced)),by=c("term2year","texas0_arkansas1")]
,texas0_arkansas1 ~ term2year
,value.var = "mu"
)
q2.ate.2y.texas.basic <- q2.d3.8[texas0_arkansas1==0 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==0 & term2year==0,mean(bills_introduced)]
# -16.74167
q2.ate.2y.arkansas.basic <- q2.d3.8[texas0_arkansas1==1 & term2year==1,mean(bills_introduced)] - q2.d3.8[texas0_arkansas1==1 & term2year==0,mean(bills_introduced)]
# -10.09477
# use OLS regression to estimate the effect on number of bills introduced, by the 2-year term, and the blocking variable texas-vs-arkansas
q2.m1 <- q2.d3.8[texas0_arkansas1==0,lm(bills_introduced ~ term2year)]
(q2.m1)
q2.m2 <- q2.d3.8[texas0_arkansas1==1,lm(bills_introduced ~ term2year)]
(q2.m2)
q2.ate.2y.texas.ols <- q2.m1$coefficients[2] # -16.74167
q2.ate.2y.arkansas.ols <- q2.m2$coefficients[2] # -10.09477
# use OLS in one model, with interaction variable between the term2year and texas0_arkansas1
q2.m3 <- q2.d3.8[,lm(bills_introduced ~ term2year + texas0_arkansas1 + term2year*texas0_arkansas1)]
(q2.m3)
q2.ate.2y.texas.ols2 <- q2.m3$coefficients[2] # -16.74167
q2.ate.2y.arkansas.ols2 <- q2.m3$coefficients[2] + q2.m3$coefficients[4] # -10.09477
q2.se.func <- function(var0, var1, N, m) {
return( sqrt(var0/(N - m) + var1/m) )
}
q2.se.func(1, 2, 1, 2)
q2 <- {}
q2$t <- 1
q2$a <- 1
rm(q2$t)
rm(q2)
2 + 2
2 + 2
2 + 2
1 + 1
1 + 1
q1.d3.6 <- data.table( read.csv("./data/Clingingsmith.2009.csv") )
getwd()
getwd()
setwd("C:/Temp/test")
getwd()
mydata <- data.table( read.csv("Clingingsmith.2009.csv") )
View(mydata)
View(mydata)
summary(mydata)
hist(mydata$views)
mydata <- data.table( read.csv("testdata.csv") )
summary(mydata)
summary(mydata)
summary(mydata)
hist(mydata$team1)
hist(mydata$team1,bins=10)
hist(mydata$team1,breaks=10)
mydata[,team1avg=mean(team1),]
mydata[,team1avg=mean(team1)]
mydata[,list(team1avg=mean(team1))]
summary(mydata)
sd(mydata$team1)
mydata[,list(team1avg=mean(team1)),by=Month]
mydata[,list(team1avg=mean(team1)),by=month]
mydata[,list(team1avg=mean(team1), team2avg=mean(team2)),by=month]
mydata[,list(team1avg=mean(team1), team2avg=mean(team2), team3avg=mean(team3)),by=month]
interaction.plot(
mydata[,list(team1avg=mean(team1), team2avg=mean(team2), team3avg=mean(team3)),by=month]
,team1avg
,team2avg
,team3avg
,month
)
mydata[,list(team1avg=mean(team1), team2avg=mean(team2), team3avg=mean(team3)),by=month][
interaction.plot(
month
,team1avg
,team2avg
,team3avg
)
]
mydata[,list(team1avg=mean(team1), team2avg=mean(team2), team3avg=mean(team3)),by=month][
interaction.plot(
month
,team1avg
)
]
mydata[,list(team1avg=mean(team1), team2avg=mean(team2), team3avg=mean(team3)),by=month][
plot(
month
,team1avg
)
]
mydata[,list(team1avg=sum(team1), team2avg=sum(team2), team3avg=sum(team3)),by=month]
